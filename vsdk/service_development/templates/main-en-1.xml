<?xml version="1.0" encoding="UTF-8"?>
<vxml xmlns="http://www.w3.org/2001/vxml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.w3.org/2001/vxml
http://www.w3.org/TR/voicexml20/vxml.xsd"
version="2.0">

  <menu id="main" dtmf="true">
  <!-- Welcome message in English and French -->
    <audio src = "https://django-static.vps.abaart.nl/group3/django/welcome-english.wav"/>
    <audio src = "https://django-static.vps.abaart.nl/group3/django/welcome-french.wav"/>
   <!--Welcome to ma-moisson, please select your language-->
    <audio src = "https://django-static.vps.abaart.nl/group3/django/for-english-press-1.wav/" />
    <audio src = "https://django-static.vps.abaart.nl/group3/django/appuyez-sur-2-pour-francais.wav/" />
    <choice next = "#fertilizersEN"/>
    <choice next = "ma-moissonFR.xml"/>
  </menu>
    <!--Fertilizer form in English-->
  <form id="fertilizersEN">
    <!-- DTMF grammar and field that holds the value for crop-->
    <field name="get_crop">

      <audio src = "https://django-static.vps.abaart.nl/group3/django/give-crop-and-weather-english.wav"/>
  <!-- For corn press 1, for cotton, press 2, for cocoa, press 3-->

      <audio src = "https://django-static.vps.abaart.nl/group3/django/select-crop-english.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/for.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/corn-english.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/press.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/1-english.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/for.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/cotton-english.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/press.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/2-english.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/for.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/cocoa-english.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/press.wav"/>
      <audio src = "https://django-static.vps.abaart.nl/group3/django/3-english.wav"/>

      <grammar xml:lang="en-US" root = "CROP_MENU" mode="dtmf">
        <rule id="CROP_MENU" scope = "public">
          <one-of>
            <item>1</item>
            <item>2</item>
            <item>3</item>
          </one-of>
        </rule>
      </grammar>

      <!-- Error handling -->
      <noinput>
        <audio src = "https://django-static.vps.abaart.nl/group3/django/sorry-english.wav"/>
      </noinput>

      <nomatch>
        <audio src = "https://django-static.vps.abaart.nl/group3/django/please-try-again-english.wav"/>
      </nomatch>

      <var name="crop"/>
      <filled namelist="get_crop" mode="all">

        <if cond="get_crop==1">
          	<assign name="crop" expr="'cocoa'"/>
          <elseif cond="get_crop==2"/>
            <assign name="crop" expr="'corn'"/>
          <elseif cond="get_crop==3"/>
            <assign name="crop" expr="'cotton'"/>
        </if>

            <prompt>The crop you have chosen is <value expr="crop"/>.</prompt>
          </filled>
        </field>


		<field name="get_weather">

    <!-- For wet press 1, for dry press 2 -->
		<audio src = "https://django-static.vps.abaart.nl/group3/django/select-weather-english.wav"/>
    <audio src = "https://django-static.vps.abaart.nl/group3/django/wet-english.wav"/>
  	<audio src = "https://django-static.vps.abaart.nl/group3/django/press.wav"/>
  	<audio src = "https://django-static.vps.abaart.nl/group3/django/1-english.wav"/>
    <audio src = "https://django-static.vps.abaart.nl/group3/django/dry-english.wav"/>
    <audio src = "https://django-static.vps.abaart.nl/group3/django/press.wav"/>
    <audio src = "https://django-static.vps.abaart.nl/group3/django/2-english.wav"/>

      <grammar xml:lang="en-US" root = "WEATHER_MENU" mode="dtmf">
        <rule id="WEATHER_MENU" scope = "public">
          <one-of>
            <item>1</item>
            <item>2</item>
          </one-of>
        </rule>
      </grammar>

      <!-- Error handling -->
      <noinput>
        <audio src = "https://django-static.vps.abaart.nl/group3/django/cotton-english.wav"/>
      </noinput>

      <nomatch>
        <audio src = "https://django-static.vps.abaart.nl/group3/django/welcome-english.wav"/>
      </nomatch>

      <var name="weather"/>
      <filled namelist="get_crop" mode="all">

        <if cond="get_weather==1">
          	<assign name="weather" expr="'dry'"/>
          <elseif cond="get_weather==2"/>
            <assign name="weather" expr="'wet'"/>
        </if>

            <prompt>The weather condition you have chosen is <value expr="weather"/>.</prompt>
          </filled>
        </field>

</form>
</vxml>